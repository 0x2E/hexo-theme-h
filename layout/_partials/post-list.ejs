<% page.posts.each(function (post) { %>
<article itemscope itemtype="https://schema.org/BlogPosting" class="max-w-4xl px-4 md:px-10 py-6 mb-6 bg-white rounded-lg shadow-md">
  <div class="flex justify-between items-center">
    <time itemprop="datePublished" class="font-light text-gray-600"><%- date(post.date, "YYYY-MM-DD") %></time>
    <% if(post.categories.length > 0){ %>
      <span class="px-2 py-1 bg-gray-600 text-gray-100 font-bold rounded"><%- post.categories.data[0].name %></span>
    <% } %>
  </div>
  <div class="mt-2">
    <h2 itemprop="name headline"><a itemprop="url mainEntityOfPage" href="<%- url_for(post.path) %>" class="text-2xl text-gray-700 font-bold hover:underline"><%= post.title %></a></h2>
    <% if(post.excerpt){
      var excerpt = strip_html(post.excerpt)
    }else {
      var excerpt = strip_html(post.content.substring(0, 500)).substring(0, 150)
    } %>
    <p class="mt-2 text-gray-600"><%= excerpt %>...</p>
  </div>
  <div class="mt-4">
    <a href="<%- url_for(post.path) %>" class="text-blue-500"><%= __('readmore') %></a>
  </div>
</article>
<% }) %>